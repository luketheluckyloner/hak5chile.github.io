<!DOCTYPE html>
<html>
<head>
	<title>Portfolio</title>
	<!-- css files -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.3.1/css/bulma.min.css">
	<link rel="stylesheet" type="text/css" href="assets/css/styles.css">

	<link rel="icon" type="image/x-icon" href="assets/img/favicon.png">
	<meta name="author" content="Hassan Ali">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
	<body>
		<!-- Navbar -->
		<nav class="nav container void-background">
			<!-- This "nav-menu" is hidden on mobile -->
			<!-- Add the modifier "is-active" to display it on mobile -->
			<div class="nav-left">
				<a href="http://medium.com/@hassanhelfi/" class="nav-item">
					<span class="icon">
						<i class="fa fa-medium"></i>
					</span>
				</a>
				<a href="http://github.com/helfi92" class="nav-item">
					<span class="icon">
						<i class="fa fa-github"></i>
					</span>
				</a>
				<a href="https://twitter.com/hassanhelfi" class="nav-item">
					<span class="icon">
						<i class="fa fa-twitter"></i>
					</span>
				</a>				
			</div>

			<div class="nav-right nav-menu">
				<a class="nav-item" href="#about">About</a>
				<a class="nav-item" href="#projects">Projects</a>
				<a class="nav-item" href="#social">Social</a>
			</div>

			<!-- This "nav-toggle" hamburger menu is only visible on mobile -->
			<!-- You need JavaScript to toggle the "is-active" class on "nav-menu" -->
			<span class="nav-toggle">
				<span></span>
				<span></span>
				<span></span>
			</span>
		</nav>
				
		<section id="about" class="section section-1" style="position: relative; overflow: hidden;">
    
    <!-- Video de fondo -->
    <video autoplay muted loop playsinline class="bg-video">
        <source src="assets/banner.mp4" type="video/mp4">
        Tu navegador no soporta video en HTML5.
    </video>
    
    <!-- Contenido encima del video -->
    <div class="container has-text-centered" style="position: relative; z-index: 1;">
        <img class="avatar" src="assets/img/profile2.png">
    </div>
    
<div class="container" style="position: relative; z-index: 1; text-align: center;">
    <br>
    <p style="
        font-family: 'Orbitron', sans-serif;
        font-size: 2.5rem;
        font-weight: bold;
        color: #00ffcc;
        text-shadow: 0px 0px 12px rgba(0, 255, 200, 0.8);
        letter-spacing: 2px;
        ">
        Bienvenido a Namastech<br>
        Ciberseguridad, gadgets y hardware al alcance de tu mano.
    </p>
</div>

<!-- Fuente robótica desde Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
</section>

<!-- Estilos integrados -->
<style>
.bg-video {
  position: absolute;
  top: 50%;
  left: 50%;
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  z-index: 0;
  transform: translate(-50%, -50%);
  object-fit: cover;
  opacity: 0.7; /* Cambia la transparencia si quieres */
}
</style>
		<!-- formulario -->

<section id="shipping" class="section section-4" style="background-color: #00000025; color: #0f0; font-family: 'Courier New', monospace; padding: 80px 20px;">
    <div class="container has-text-centered">
        <h2 style="font-size: 3em; margin-bottom: 30px;">Formulario de Envío</h2>
        <p style="margin-bottom: 40px;">Ingresa tus datos para recibir tu producto en Chile.</p>

<form id="shippingForm" style="max-width: 500px; margin: 0 auto; text-align: left;">
    <label>Nombre:</label><br>
    <input type="text" name="nombre" required style="width:100%; padding:10px; margin:10px 0; background-color:#11111168; color:#0f0; border:1px solid #0f0;"><br>

    <label>RUT (sin puntos ni guión):</label><br>
    <input type="text" name="rut" required pattern="\d{7,8}[0-9kK]" title="Ingrese un RUT válido, sin puntos ni guión" style="width:100%; padding:10px; margin:10px 0; background-color:#11111168; color:#0f0; border:1px solid #0f0;"><br>

    <label>Correo electrónico:</label><br>
    <input type="email" name="email" required style="width:100%; padding:10px; margin:10px 0; background-color:#11111168; color:#0f0; border:1px solid #0f0;"><br>

    <label>Dirección:</label><br>
    <input type="text" name="calle" placeholder="Calle y número" required style="width:100%; padding:10px; margin:10px 0; background-color:#11111164; color:#0f0; border:1px solid #0f0;"><br>
    <input type="text" name="comuna" placeholder="Comuna" required style="width:100%; padding:10px; margin:10px 0; background-color:#11111164; color:#0f0; border:1px solid #0f0;"><br>
    <input type="text" name="region" placeholder="Región" required style="width:100%; padding:10px; margin:10px 0; background-color:#11111164; color:#0f0; border:1px solid #0f0;"><br>

    <label>Teléfono (+569):</label><br>
    <input type="tel" name="telefono" required pattern="[0-9]{8}" placeholder="912345678" title="Ingrese un número de 8 dígitos, sin prefijo" style="width:100%; padding:10px; margin:10px 0; background-color:#11111149; color:#0f0; border:1px solid #0f0;"><br>

    <input type="hidden" name="trackingNumber" id="trackingNumber">

    <button type="submit" style="padding:10px 20px; background-color:#0f0; color:#000; border:none; cursor:pointer;">Enviar</button>
</form>

<script>
function generarTracking() {
    return Math.floor(10000000 + Math.random() * 90000000);
}

function validarRut(rut) {
    rut = rut.replace(/\s+/g, '').toLowerCase();
    if (!/^\d{7,8}[0-9k]$/.test(rut)) return false;
    let cuerpo = rut.slice(0, -1);
    let dv = rut.slice(-1);
    let suma = 0;
    let multiplo = 2;
    for (let i = cuerpo.length - 1; i >= 0; i--) {
        suma += parseInt(cuerpo[i]) * multiplo;
        multiplo = multiplo < 7 ? multiplo + 1 : 2;
    }
    let dvEsperado = 11 - (suma % 11);
    dvEsperado = dvEsperado === 11 ? '0' : dvEsperado === 10 ? 'k' : dvEsperado.toString();
    return dv === dvEsperado;
}

const form = document.getElementById('shippingForm');
form.addEventListener('submit', function(e) {
    e.preventDefault();

    const rutInput = form.rut.value;
    if (!validarRut(rutInput)) {
        alert("RUT inválido.");
        return;
    }

    const tracking = generarTracking();
    document.getElementById('trackingNumber').value = tracking;

    const tempForm = document.createElement('form');
    tempForm.action = 'https://formsubmit.co/abrahamleivapino@gmail.com'; // Cambia por tu correo
    tempForm.method = 'POST';

    const inputs = form.querySelectorAll('input, textarea');
    inputs.forEach(input => {
        const inputClone = document.createElement('input');
        inputClone.type = 'hidden';
        inputClone.name = input.name;
        inputClone.value = input.value;
        tempForm.appendChild(inputClone);
    });

    const redirectInput = document.createElement('input');
    redirectInput.type = 'hidden';
    redirectInput.name = '_next';
    redirectInput.value = 'https://hak5chile.tech/gracias.html?tracking=' + tracking;
    tempForm.appendChild(redirectInput);

    const captchaInput = document.createElement('input');
    captchaInput.type = 'hidden';
    captchaInput.name = '_captcha';
    captchaInput.value = 'false';
    tempForm.appendChild(captchaInput);

    document.body.appendChild(tempForm);
    tempForm.submit();
});
</script>

    </div>
</section>
		<!-- Social -->
		<section id="social" class="section section-3">
			<div class="container">
				<div class="has-text-centered">					
					<h3 class="title is-3">Let's Socialize</h3>
				</div>
				<div class="social-container columns">
					<div class="column is-6 has-text-centered">
						<a target="_blank" href="https://ca.linkedin.com/in/hassan-ali-6132468a"><img class="" src="assets/img/linkedin.png"></a>
					</div>
					<div class="column is-6 has-text-centered">
						<a target="_blank" href="https://www.facebook.com/Hassan.Helfi"><img class="" src="assets/img/facebook.png"></a>
					</div>
				</div>
			</div>
		</section>	
		
		<!-- Footer -->
		<section class="section-4 has-text-centered container">
			<a href="http://www.hassanali.me/about">Hassan Ali</a>
		</section>
		
		<!-- Scripts  -->
		<script src="controller.js"></script>		
	</body>	
</html>
